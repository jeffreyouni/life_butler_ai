# Life Butler AI

ğŸ¤– **æ‚¨çš„ä¸ªäººAIé©±åŠ¨ç”Ÿæ´»ç®¡ç†åŠ©æ‰‹**

Life Butler AI æ˜¯ä¸€ä¸ªéšç§ä¼˜å…ˆã€æœ¬åœ°ä¼˜å…ˆçš„ä¸ªäººç”Ÿæ´»ç®¡ç†ç³»ç»Ÿï¼Œå®ƒå°†å½»åº•æ”¹å˜æ‚¨ç»„ç»‡ã€æŸ¥è¯¢å’Œä»æ—¥å¸¸æ´»åŠ¨ä¸­è·å¾—è§è§£çš„æ–¹å¼ã€‚é‡‡ç”¨ Flutter æ„å»ºç²¾ç¾çš„æ¡Œé¢ä½“éªŒï¼Œå¹¶ç”±å°–ç«¯çš„ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯é©±åŠ¨ï¼Œå®ƒæ˜¯æ‚¨ç®¡ç†ä»å¥åº·è®°å½•åˆ°è´¢åŠ¡è§„åˆ’ç­‰ä¸€åˆ‡äº‹åŠ¡çš„æ™ºèƒ½ä¼´ä¾£ã€‚

## âœ¨ ä¸ºä»€ä¹ˆé€‰æ‹© Life Butler AIï¼Ÿ

**ğŸ” éšç§è®¾è®¡**
- æ‰€æœ‰ä¸ªäººæ•°æ®éƒ½ä¿å­˜åœ¨æ‚¨çš„è®¾å¤‡ä¸Š - æ— éœ€äº‘å­˜å‚¨
- ä½¿ç”¨ Ollama è¿›è¡Œæœ¬åœ° AI å¤„ç† - æ‚¨çš„å¯¹è¯æ°¸è¿œä¸ä¼šç¦»å¼€æ‚¨çš„è®¡ç®—æœº
- å®Œå…¨æ§åˆ¶æ‚¨çš„ä¿¡æ¯

**ğŸ§  æ™ºèƒ½ä¸”ä¸Šä¸‹æ–‡æ„ŸçŸ¥**
- ç”¨è‡ªç„¶è¯­è¨€è¯¢é—®æ‚¨çš„ç”Ÿæ´»é—®é¢˜ï¼š"ä¸Šä¸ªæœˆæˆ‘åœ¨æ‚è´§ä¸ŠèŠ±äº†å¤šå°‘é’±ï¼Ÿ"
- åŸºäº RAG çš„å“åº”ï¼Œä½¿ç”¨æ‚¨çš„å®é™…æ•°æ®æä¾›å‡†ç¡®ã€ä¸ªæ€§åŒ–çš„è§è§£
- è·¨æ‰€æœ‰æ´»åŠ¨çš„æ™ºèƒ½åˆ†ç±»å’Œæ¨¡å¼è¯†åˆ«

**ğŸ“Š å…¨é¢çš„ç”Ÿæ´»è·Ÿè¸ª**
- **å¥åº·ä¸ä¿å¥**ï¼šè·Ÿè¸ªç—‡çŠ¶ã€è¯ç‰©ã€è¿åŠ¨ã€ç¡çœ æ¨¡å¼
- **è´¢åŠ¡ç®¡ç†**ï¼šæ”¯å‡ºã€æ”¶å…¥ã€é¢„ç®—å’Œæ¶ˆè´¹åˆ†æ
- **è†³é£Ÿè§„åˆ’**ï¼šé£Ÿç‰©æ—¥å¿—ã€è¥å…»è·Ÿè¸ªã€é£Ÿè°±ç®¡ç†
- **äº‹ä»¶ç®¡ç†**ï¼šæ—¥å†é›†æˆã€ä»»åŠ¡è·Ÿè¸ªã€ç›®æ ‡è®¾å®š
- **å­¦ä¹ ä¸æˆé•¿**ï¼šæ•™è‚²è¿›åº¦ã€æŠ€èƒ½å‘å±•ã€æ—¥è®°æ¡ç›®
- **æ›´å¤šåŠŸèƒ½**ï¼šç»Ÿä¸€ç³»ç»Ÿä¸­çš„ 14 ä¸ªé›†æˆç”Ÿæ´»é¢†åŸŸ

**ğŸ› ï¸ å¼€å‘è€…å‹å¥½çš„æ¶æ„**
- æ¸…æ™°çš„å¤šåŒ…å•ä»“åº“ç»“æ„
- æ¨¡å—åŒ–è®¾è®¡ - äº¤æ¢ AI æä¾›è€…ã€æ‰©å±• UI æˆ–é›†æˆæ–°æ•°æ®æº
- çº¯ Dart ä¸šåŠ¡é€»è¾‘ä¸ UI å…³æ³¨ç‚¹åˆ†ç¦»
- å…¨é¢çš„æµ‹è¯•è¦†ç›–å’Œæ–‡æ¡£

## ğŸš€ é¡¹ç›®äº®ç‚¹
- **apps/desktop** â€” å…·æœ‰ç°ä»£ç›´è§‚ UI çš„ Flutter Material 3 æ¡Œé¢åº”ç”¨
- **packages/core** â€” çº¯ Dart ä¸šåŠ¡é€»è¾‘å’Œ RAG ç®¡é“å®ç°
- **packages/data** â€” åŒ…å«æ‰€æœ‰ç”Ÿæ´»é¢†åŸŸçš„ 14 è¡¨æ¶æ„çš„ Drift ORM
- **packages/providers_llm** â€” çµæ´»çš„ AI æä¾›è€…æŠ½è±¡ï¼ˆåŒ…å« Ollama é›†æˆï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆå¼€å‘ï¼‰

### æ‰‹åŠ¨è®¾ç½®

1. **ä¸ºæ¯ä¸ªåŒ…å®‰è£…ä¾èµ–é¡¹ï¼š**

   ```powershell
   # ä» PowerShell (Windows)
   cd apps\desktop; flutter pub get; cd ..\..\packages\core; dart pub get; cd ../data; dart pub get; cd ../providers_llm; dart pub get; cd ..\..
   ```

2. **å¤åˆ¶ Ollama é›†æˆçš„ç¯å¢ƒæ¨¡æ¿ï¼š**

   ```powershell
   copy apps\desktop\.env.example apps\desktop\.env
   ```

3. **ç”Ÿæˆ Drift ORM ä»£ç ï¼ˆå¿…éœ€æ­¥éª¤ï¼‰ï¼š**

   ```powershell
   cd packages\data
   dart run build_runner build
   cd ..\..
   ```

4. **å®‰è£…æ‰€éœ€çš„ Ollama æ¨¡å‹ï¼ˆæ¨èç”¨äºå®Œæ•´ AI åŠŸèƒ½ï¼‰ï¼š**

   ```powershell
   ollama pull mistral:latest
   ollama pull nomic-embed-text:latest
   ```

5. **å¯åŠ¨æ¡Œé¢åº”ç”¨ï¼š**

   ```powershell
   cd apps\desktop
   flutter run -d windows
   ```

## ğŸ—ï¸ æ¶æ„ä¸å…³é”®ç»„ä»¶

**ä¸¤é˜¶æ®µåˆå§‹åŒ–ï¼š**
- é˜¶æ®µ 1ï¼šä¸å¸¦åµŒå…¥çš„åŸºç¡€æ•°æ®ç§å­ï¼ˆ`AppInitializer.initializeBasicData()`ï¼‰
- é˜¶æ®µ 2ï¼šä½¿ç”¨ Riverpod ä¸Šä¸‹æ–‡ç”Ÿæˆ RAG åµŒå…¥ï¼ˆ`AppInitializer.initializeEmbeddings()`ï¼‰

**å¢å¼ºçš„ 3 é˜¶æ®µè¯·æ±‚è·¯ç”±å™¨ï¼š**
1. **åŸºäºè§„åˆ™çš„åˆ†ç±»**ï¼ˆå¿«é€Ÿã€å¤šè¯­è¨€å…³é”®è¯ï¼‰
2. **è¯­ä¹‰ç›¸ä¼¼æ€§**ï¼ˆåŸºäºåµŒå…¥çš„åŒ¹é…ï¼‰
3. **LLM åˆ†ç±»**ï¼ˆç”¨äºå¤æ‚/æ¨¡ç³ŠæŸ¥è¯¢ï¼‰

**RAG ç®¡é“åŠŸèƒ½ï¼š**
- å­˜å‚¨ä¸ºäºŒè¿›åˆ¶ BLOB çš„æœ¬åœ°å‘é‡åµŒå…¥
- å†…å­˜ä½™å¼¦ç›¸ä¼¼æ€§æœç´¢ï¼ˆ`VectorUtils.cosineSimilarity`ï¼‰
- å…·æœ‰åŸºäºé‡å åˆ†å‰²çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥åˆ†å—
- å®æ—¶åµŒå…¥çŠ¶æ€è·Ÿè¸ª

## ğŸ“ è¦æ¢ç´¢çš„å…³é”®æ–‡ä»¶

- **åº”ç”¨å…¥å£**ï¼š`apps/desktop/lib/main.dart`
- **è·¯ç”±é€»è¾‘**ï¼š`packages/core/lib/src/routing/enhanced_router.dart`
- **æ•°æ®åº“æ¶æ„**ï¼š`packages/data/lib/src/database/tables.dart`
- **RAG å®ç°**ï¼š`packages/core/lib/src/rag/rag_pipeline_impl.dart`
- **åº”ç”¨åˆå§‹åŒ–**ï¼š`apps/desktop/lib/services/app_initializer.dart`
- **æä¾›è€…è®¾ç½®**ï¼š`apps/desktop/lib/providers/app_providers.dart`

## ğŸ”§ å¼€å‘æ³¨æ„äº‹é¡¹

**é¦–æ¬¡å…‹éš†é¡¹ç›®åï¼š**
```powershell
# å¿…é¡»å…ˆç”Ÿæˆ Drift ORM ä»£ç ï¼Œå¦åˆ™ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯
cd packages\data
dart run build_runner build
```

**ä¿®æ”¹ Drift è¡¨æ¶æ„åï¼š**
```powershell
cd packages\data
dart run build_runner build --delete-conflicting-outputs
```

**æ•…éšœæ’é™¤ï¼š**
- **å…‹éš†åç¼–è¯‘é”™è¯¯**ï¼šç¡®ä¿å…ˆæ‰§è¡Œ `dart run build_runner build` ç”Ÿæˆå¿…éœ€çš„æ•°æ®åº“ä»£ç 
- å¦‚æœæ¡Œé¢åº”ç”¨æ— æ³•è¿è¡Œï¼Œè¯·å°è¯• `flutter doctor` å¹¶éªŒè¯æ˜¯å¦å®‰è£…äº†æ‰€éœ€çš„ SDK
- ç¡®ä¿ Ollama æœåŠ¡åœ¨ `http://localhost:11434` è¿è¡Œä»¥ä½¿ç”¨ AI åŠŸèƒ½

**æµ‹è¯•ï¼š**
```powershell
# æµ‹è¯•å•ä¸ªåŒ…
cd packages\core && dart test
cd packages\data && dart test

# è¿è¡Œå¸¦è°ƒè¯•çš„æ¡Œé¢åº”ç”¨
cd apps\desktop && flutter run -d windows --verbose
```

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯·ï¼š
- åœ¨æäº¤ PR ä¹‹å‰å¼€å¯ issue æè¿°è¾ƒå¤§çš„æ›´æ”¹
- ä¿æŒåŒ…è¾¹ç•Œæ¸…æ™°ï¼ˆ`packages/core` ä¸­ä¸è¦æœ‰ Flutter ä¾èµ–ï¼‰
- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼å’Œæ¨¡å¼
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•

## ğŸ“„ è®¸å¯è¯

æ­¤é¡¹ç›®æ ¹æ® `LICENSE` æ–‡ä»¶ä¸­æŒ‡å®šçš„æ¡æ¬¾è¿›è¡Œè®¸å¯ã€‚

